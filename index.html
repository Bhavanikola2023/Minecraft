<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Collector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #87CEEB; /* Sky blue background */
            margin: 0;
            font-family: 'Press Start 2P', cursive; /* Arcade font */
            flex-direction: column;
        }
        canvas {
            background-color: #A0F0A0; /* Green grass background */
            display: block;
            border: 4px solid #5A3B21; /* Dirt border */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* Shadow effect */
        }
        #game-container {
            text-align: center;
            margin-top: 20px;
        }
        #score {
            font-size: 1.5rem;
            color: #5A3B21; /* Dirt color */
            margin-bottom: 10px;
        }
        #message-box {
            font-size: 1.2rem;
            color: #5A3B21; /* Dirt color */
            margin-top: 10px;
            min-height: 1.5em; /* Reserve space */
        }
        button {
            background-color: #FFD700; /* Gold color */
            color: #5A3B21; /* Dirt color */
            padding: 10px 20px;
            border: 2px solid #5A3B21;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
            box-shadow: 3px 3px 0 #5A3B21;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #FFA500; /* Orange color on hover */
        }
         @media (max-width: 600px) {
            canvas {
                width: 95%;
                height: auto;
            }
            #score {
                font-size: 1rem;
            }
            #message-box {
                font-size: 0.9rem;
            }
            button {
                padding: 8px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <div id="game-container">
        <div id="score">Score: 0</div>
        <canvas id="gameCanvas" width="600" height="400"></canvas>
        <div id="message-box"></div>
        <button id="startButton">Start Game</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score');
        const messageBox = document.getElementById('message-box');
        const startButton = document.getElementById('startButton');

        // Game variables
        let player;
        let items = [];
        let score = 0;
        let gameRunning = false;
        let itemInterval;
        let gameLoopInterval;

        // Player properties (representing Steve)
        const playerWidth = 30;
        const playerHeight = 40;
        const playerColor = '#0000FF'; // Blue shirt
        let playerX = canvas.width / 2 - playerWidth / 2;
        let playerY = canvas.height - playerHeight - 10; // Position above the bottom
        const playerSpeed = 5;
        let playerDX = 0; // Delta X for movement
        let isJumping = false;
        let jumpVelocity = 0;
        const gravity = 0.5;
        const jumpStrength = -10;

        // Item properties (representing blocks or items)
        const itemSize = 20;
        const itemColor = '#8B4513'; // Brown (wood/dirt color)
        const itemSpeed = 2;
        const itemSpawnRate = 1500; // milliseconds

        // Input handling
        let keys = {};
        document.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });
        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });

        // Draw the player
        function drawPlayer() {
            ctx.fillStyle = playerColor;
            ctx.fillRect(playerX, playerY, playerWidth, playerHeight);
            // Simple head
            ctx.fillStyle = '#FFD700'; // Yellow (skin color)
            ctx.fillRect(playerX + playerWidth / 4, playerY - playerHeight / 4, playerWidth / 2, playerHeight / 4);
        }

        // Draw an item
        function drawItem(item) {
            ctx.fillStyle = itemColor;
            ctx.fillRect(item.x, item.y, itemSize, itemSize);
        }

        // Update game state
        function update() {
            if (!gameRunning) return;

            // Player movement
            playerX += playerDX;

            // Apply gravity
            if (isJumping) {
                jumpVelocity += gravity;
                playerY += jumpVelocity;

                // Prevent falling through the ground
                if (playerY >= canvas.height - playerHeight - 10) {
                    playerY = canvas.height - playerHeight - 10;
                    isJumping = false;
                    jumpVelocity = 0;
                }
            }

            // Keep player within canvas bounds
            if (playerX < 0) playerX = 0;
            if (playerX + playerWidth > canvas.width) playerX = canvas.width - playerWidth;

            // Update items
            for (let i = items.length - 1; i >= 0; i--) {
                items[i].y += itemSpeed;

                // Check for collision with player
                if (
                    playerX < items[i].x + itemSize &&
                    playerX + playerWidth > items[i].x &&
                    playerY < items[i].y + itemSize &&
                    playerY + playerHeight > items[i].y
                ) {
                    // Collision detected
                    score++;
                    scoreDisplay.textContent = `Score: ${score}`;
                    items.splice(i, 1); // Remove collected item
                } else if (items[i].y > canvas.height) {
                    // Item fell off the screen
                    items.splice(i, 1);
                }
            }
        }

        // Handle player input
        function handleInput() {
            playerDX = 0; // Reset horizontal movement
            if (keys['ArrowLeft']) {
                playerDX = -playerSpeed;
            }
            if (keys['ArrowRight']) {
                playerDX = playerSpeed;
            }
            if (keys[' '] && !isJumping) { // Space key for jump
                isJumping = true;
                jumpVelocity = jumpStrength;
            }
        }

        // Spawn new items
        function spawnItem() {
            if (!gameRunning) return;
            const itemX = Math.random() * (canvas.width - itemSize);
            items.push({ x: itemX, y: 0 });
        }

        // Draw everything
        function draw() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw player
            drawPlayer();

            // Draw items
            items.forEach(drawItem);
        }

        // Game loop
        function gameLoop() {
            handleInput();
            update();
            draw();
        }

        // Start the game
        function startGame() {
            score = 0;
            scoreDisplay.textContent = `Score: ${score}`;
            items = [];
            playerX = canvas.width / 2 - playerWidth / 2;
            playerY = canvas.height - playerHeight - 10;
            isJumping = false;
            jumpVelocity = 0;
            gameRunning = true;
            messageBox.textContent = ''; // Clear message

            // Start spawning items
            itemInterval = setInterval(spawnItem, itemSpawnRate);

            // Start game loop
            gameLoopInterval = setInterval(gameLoop, 1000 / 60); // 60 FPS

            startButton.style.display = 'none'; // Hide start button
        }

        // End the game (optional: could add a game over condition)
        function endGame() {
            gameRunning = false;
            clearInterval(itemInterval);
            clearInterval(gameLoopInterval);
            messageBox.textContent = 'Game Over!'; // Example message
            startButton.style.display = 'block'; // Show start button
        }

        // Event listener for start button
        startButton.addEventListener('click', startGame);

        // Initial draw
        draw();
        messageBox.textContent = 'Press Start Game to begin!';

    </script>
</body>
</html>
